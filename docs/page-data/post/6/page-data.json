{"componentChunkName":"component---src-templates-post-js","path":"/post/6","result":{"data":{"markdownRemark":{"html":"<h1>画面遷移</h1>\n<p>画面遷移には<code class=\"language-text\">react-navigation</code>を使用します。</p>\n<h2>ナビゲーションの種類</h2>\n<h3>スタックナビゲーション</h3>\n<p>元の画面の上に新しい画面が積み重なり、「戻る」という動作で新しい画面が取り除かれて元の画面に戻る形式</p>\n<img src=\"/static/7957b45ce4bf8d1e5863be2e6ae37751/000.gif\" width=\"250\" alt=\"DetailsScreen\">\n<h3>タブナビゲーション</h3>\n<p>タブを使って画面を切り替える形式</p>\n<img src=\"/static/5206c64edde9d6418cb0f3b822ea8596/001.gif\" width=\"250\" alt=\"DetailsScreen\">\n<h2>導入</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">yarn add @react-navigation/native @react-navigation/stack @react-navigation/bottom-tabs\nyarn add react-native-reanimated react-native-gesture-handler react-native-screens react-native-safe-area-context @react-native-community/masked-view</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd ios\npod install</code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npx pod-install ios</code></pre></div>\n<!-- TODO:CocoaPodsやGradleの軽い説明を挟む -->\n<h2>画面遷移の準備</h2>\n<p>App.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'react-native-gesture-handler'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NavigationContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/native'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span><span class=\"token comment\">/* Rest of your app code */</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>スタックナビゲーションの実装</h2>\n<p>例として、<code class=\"language-text\">HomeScreen</code>と<code class=\"language-text\">DetailsScreen</code>を作成し、<code class=\"language-text\">HomeScreen</code>から<code class=\"language-text\">DetailsScreen</code>へ遷移できるようにします。</p>\n<p>App.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'react-native-gesture-handler'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Button<span class=\"token punctuation\">,</span> View<span class=\"token punctuation\">,</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NavigationContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/native'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createStackNavigator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/stack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Stack <span class=\"token operator\">=</span> <span class=\"token function\">createStackNavigator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">HomeScreen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> navigation <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>View style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span> alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Button\n        title<span class=\"token operator\">=</span><span class=\"token string\">\"Go to Details\"</span>\n        onPress<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> navigation<span class=\"token punctuation\">.</span><span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Details\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">DetailsScreen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>View style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span> alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Details<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Navigator initialRouteName<span class=\"token operator\">=</span><span class=\"token string\">\"Home\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>HomeScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Details\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>DetailsScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>上記の<code class=\"language-text\">HomeScreen</code>のコンポーネントで示していますが、<code class=\"language-text\">props</code>には<code class=\"language-text\">navigation</code>が入っており、<code class=\"language-text\">navigation.navigate</code>によって画面遷移することができます。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">navigation<span class=\"token punctuation\">.</span><span class=\"token function\">navigate</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Screen Name'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3>iOSとAndroidでの挙動</h3>\n<!-- <img src=\"./001.png\" width=\"250\" alt=\"HomeScreen\"> -->\n<!-- <img src=\"./002.png\" width=\"250\" alt=\"DetailsScreen\"> -->\n<img src=\"/static/68bf08e9cf54edac9e26d57291eda9ae/002.gif\" width=\"250\">\n<img src=\"/static/6bb9d2251f16e7a4674452dd7ca8097d/009.gif\" width=\"250\">\n<!-- <img src=\"./003.png\" width=\"250\" alt=\"HomeScreen\">\n<img src=\"./004.png\" width=\"250\" alt=\"DetailsScreen\"> -->\n<h2>タブナビゲーションの実装</h2>\n<p>例として、<code class=\"language-text\">HomeScreen</code>と<code class=\"language-text\">SettingScreen</code>を作成し、それぞれタブで遷移できるようにします。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token string\">'react-native-gesture-handler'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> View<span class=\"token punctuation\">,</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NavigationContainer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/native'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> createBottomTabNavigator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/bottom-tabs'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Tab <span class=\"token operator\">=</span> <span class=\"token function\">createBottomTabNavigator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">HomeScreen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>View style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span> alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SettingScreen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>View style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> flex<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> justifyContent<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span><span class=\"token punctuation\">,</span> alignItems<span class=\"token operator\">:</span> <span class=\"token string\">'center'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Text<span class=\"token operator\">></span>Setting<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Text<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>View<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>HomeScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Setting\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>SettingScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Tab<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>iOSとAndroidでの挙動</h3>\n<img src=\"/static/1be4bed51b3ba4dd3d593d269f605d28/003.gif\" width=\"250\">\n<img src=\"/static/ad1f91179686c3b27097375fe53714dc/004.gif\" width=\"250\">\n<!-- ### Android   -->\n<h2>詳細の実装</h2>\n<p><code class=\"language-text\">Stack</code>・<code class=\"language-text\">BottomTab</code>共にオプションを指定することができ、ラベルやアイコン、遷移アニメーションなどの詳細設定ができます。</p>\n<h3>Stackのオプション例</h3>\n<ul>\n<li>headerTitle</li>\n<li>headerLeft</li>\n<li>headerRight</li>\n<li>header</li>\n<li>headerShown</li>\n<li>animationEnabled</li>\n<li>cardStyleInterpolator</li>\n<li>gestureEnabled</li>\n<li>gestureDirection</li>\n<li>gestureResponseDistance\n...</li>\n</ul>\n<h3>Tabのオプション例</h3>\n<ul>\n<li>tabBarLabel</li>\n<li>tabBarIcon</li>\n<li>tabBarButton\n...</li>\n</ul>\n<h2>ナビゲーションのネスト</h2>\n<p><code class=\"language-text\">MyPage</code>、<code class=\"language-text\">Setting</code>タブを作成し、それぞれでスタックできるようにします。<br>\nまず、<code class=\"language-text\">MyPage</code>タブ用のスタックナビゲーターを作成します。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// HomeScreen、 DetailScreenは「スタックナビゲーションの実装」の例と同様</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">MyPageStackScreen</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Navigator initialRouteName<span class=\"token operator\">=</span><span class=\"token string\">\"Home\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Home\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>HomeScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Details\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>DetailsScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>上記と同じようにSettingStackScreenを作成し、<code class=\"language-text\">Tab.Screen</code>の<code class=\"language-text\">component</code>に割り当てていきます。</p>\n<p>App.js</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"MyPage\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>MyPageStackScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Tab<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Setting\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>SettingStackScreen<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Tab<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<img src=\"/static/b8400f9674689c12900b8d652130acee/005.gif\" width=\"250\">\n<h2>パターン別の設計例</h2>\n<h3>タブの上にスクリーンを表示させたい</h3>\n<img src=\"/static/7b71e2f27e8c4c1c0180fcaa87f8a249/006.gif\" width=\"250\">\n<img src=\"/static/3afdb3d41c0fee1115811864c91e52b6/007.gif\" width=\"250\">\n<h4>水平方向の遷移</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// MainTabScreen: タブありスクリーン</span>\n<span class=\"token comment\">// OutScreen: MainTabScreenの上に被せて表示させたいスクリーン</span>\n\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> CardStyleInterpolators<span class=\"token punctuation\">,</span> createStackNavigator <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@react-navigation/stack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Navigator screenOptions<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> cardStyleInterpolator<span class=\"token operator\">:</span> CardStyleInterpolators<span class=\"token punctuation\">.</span>forHorizontalIOS <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Main\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>MainTabScreen<span class=\"token punctuation\">}</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> headerShown<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Out\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>OutScreen<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>垂直方向の遷移</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Navigator mode<span class=\"token operator\">=</span><span class=\"token string\">\"modal\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Main\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>MainTabScreen<span class=\"token punctuation\">}</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> headerShown<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Out\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>OutScreen<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3>認証したい</h3>\n<img src=\"/static/776451652b18a72e54dca4421fc9d258/008.gif\" width=\"250\">\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// isSigned: 認証したかどうか</span>\n<span class=\"token comment\">// SignInScreen: 未認証時に表示するスクリーン</span>\n<span class=\"token comment\">// MainTabScreen: 認証後に表示するスクリーン</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">App</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>NavigationContainer<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span> <span class=\"token operator\">!</span>isSigned\n          <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"SignIn\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>SignInScreen<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">:</span> <span class=\"token operator\">&lt;</span>Stack<span class=\"token punctuation\">.</span>Screen name<span class=\"token operator\">=</span><span class=\"token string\">\"Main\"</span> component<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>MainTabScreen<span class=\"token punctuation\">}</span> options<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> headerShown<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Stack<span class=\"token punctuation\">.</span>Navigator<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>NavigationContainer<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>","fields":{"slug":"/post/6"},"frontmatter":{"title":"第5回 React Native -画面遷移-","date":"2020/11/19","tags":["React Native"]}}},"pageContext":{"prev":null,"next":{"html":"<h1>React Nativeでの画像の表示</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Image <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react-native'</span></code></pre></div>\n<p><code class=\"language-text\">Image</code>コンポーネントを使います。</p>\n<h2>サーバにある画像は絶対パスで指定する</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Image\n  source<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> uri<span class=\"token operator\">:</span> <span class=\"token string\">'https://xxx.xxx.xxx'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h2>ローカルにある画像はrequireを使う</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>Image\n  source<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./assets/xxx.png'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h3>requireを使うときの注意</h3>\n<p><code class=\"language-text\">require()</code>に指定できるのは文字列のみなので、変数を代入したり、文字連結合したりするとエラーになります。</p>\n<h4>エラーサンプル</h4>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> imagePath <span class=\"token operator\">=</span> <span class=\"token string\">'./assets/xxx.png'</span>\n<span class=\"token operator\">&lt;</span>Image\n  source<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span>imagePath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> imageName <span class=\"token operator\">=</span> <span class=\"token string\">'xxx'</span>\n<span class=\"token operator\">&lt;</span>Image\n  source<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./assets/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span> imageName <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.png</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">/</span><span class=\"token operator\">></span></code></pre></div>\n<h2>画像の縦横比率の変更</h2>\n<h3>resizeModeプロパティを指定する</h3>\n<h4>cover</h4>\n<ul>\n<li>縦横比は維持する</li>\n<li>width、heightの大きい数値に合わせて画像をリサイズする</li>\n</ul>\n<h4>contain</h4>\n<ul>\n<li>縦横比は維持する</li>\n<li>width、heightの小さい数値に合わせて画像をリサイズする</li>\n</ul>\n<h4>stretch</h4>\n<ul>\n<li>縦横比は維持しない</li>\n<li>width、heightの数値に合わせて画像をリサイズする</li>\n</ul>\n<h3>デモ</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> width<span class=\"token operator\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">:</span> <span class=\"token number\">200</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<img src=\"/static/d856743fc8e1051cc8690c0244fe859c/003.png\" width=\"300\" alt=\"\">\n<h1>アイコンを表示しよう</h1>\n<h2>react-native-vector-icons</h2>\n<p><a href=\"https://github.com/oblador/react-native-vector-icons\" target=\"_blank\" rel=\"noopener noreferrer\">github</a></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn add react-native-vector-icons</code></pre></div>\n<h3>iOS</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd ios/\n$ pod install</code></pre></div>\n<p><code class=\"language-text\">ios/[ PROJECT_NAME ]/Info.plist</code>に以下を追記する。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">&lt;</span>key<span class=\"token operator\">></span>UIAppFonts<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>key<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>array<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>AntDesign<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Entypo<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>EvilIcons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Feather<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>FontAwesome<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>FontAwesome5_Brands<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>FontAwesome5_Regular<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>FontAwesome5_Solid<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Foundation<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Ionicons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>MaterialIcons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>MaterialCommunityIcons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>SimpleLineIcons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Octicons<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Zocial<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>string<span class=\"token operator\">></span>Fontisto<span class=\"token punctuation\">.</span>ttf<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>string<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>array<span class=\"token operator\">></span></code></pre></div>\n<p>Xcodeで<code class=\"language-text\">Info.plist</code>から手動で追加することもできる。<br>\n+ボタンから<code class=\"language-text\">Fonts provided by application</code>でkeyを追加。<br>\n追加したいフォント名を追加する。</p>\n<img src=\"/static/6aa72c0263e4fdf596a54a513231d1c0/001.png\" width=\"500\" alt=\"Xcodeで手動で追加\">\n<h3>Android</h3>\n<p><code class=\"language-text\">android/app/build.gradle</code>に以下を追記する。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">apply <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token string\">\"../../node_modules/react-native-vector-icons/fonts.gradle\"</span></code></pre></div>\n<p><a href=\"https://oblador.github.io/react-native-vector-icons/\" target=\"_blank\" rel=\"noopener noreferrer\">アイコン一覧</a></p>\n<h2>演習</h2>\n<h3>Slackのプロフィールを模倣する</h3>\n<img src=\"/static/6e77f856d345bf63bf19df54c7f6e47e/002.gif\" width=\"250\" alt=\"Slackのプロフィールを模倣する\">","fields":{"slug":"/post/4"},"frontmatter":{"date":"2020-11-05","title":"第3回 React Native -画像を表示してみよう-","tags":["React Native"],"active":1}}}},"staticQueryHashes":["63159454"]}