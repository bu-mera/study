{"componentChunkName":"component---src-templates-post-js","path":"/post/1","result":{"data":{"markdownRemark":{"html":"<h1>環境構築</h1>\n<p>これは問題ないかな</p>\n<h1>環境変数（react-native-config）</h1>\n<h2>導入</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ yarn add react-native-config</code></pre></div>\n<p>iOSは<code class=\"language-text\">pod install</code>する。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">cd ios/\npod install</code></pre></div>\n<h2>環境毎の設定ファイルの追加</h2>\n<h3>本番</h3>\n<div class=\"gatsby-code-title\">.env</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">ENV</span><span class=\"token operator\">=</span>prod</code></pre></div>\n<h3>開発</h3>\n<div class=\"gatsby-code-title\">.env.dev</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token constant\">ENV</span><span class=\"token operator\">=</span>dev</code></pre></div>\n<h2>OS毎の設定</h2>\n<h3>iOS</h3>\n<h2>Configurationの追加</h2>\n<p><code class=\"language-text\">PROJECT &gt; [ PROJECT_NAME ] &gt; Configurations</code>の+ボタンをクリックして「Duplicate \"Release\" Configurations」を選択し、Nameをつける。(Stagingとかとか)</p>\n<h2>環境毎の設定</h2>\n<h3>アプリ名</h3>\n<p>アプリ名をプレフィックスをつけて区別する。</p>\n<p><code class=\"language-text\">TARGETS &gt; [ PROJECT_NAME ] &gt; Build Settings</code>のタブで<code class=\"language-text\">All</code>と<code class=\"language-text\">Combined</code>が選択されている状態にする。+ボタンから「Add User-Defined Setting」を選択し、<code class=\"language-text\">PROJECT_NAME_PREFIX</code>という名前で作成。任意の環境毎で区別できるように値を設定する。</p>\n<p><code class=\"language-text\">Packaging</code>の<code class=\"language-text\">Product Name</code>で値の先頭に<code class=\"language-text\">${PRODUCT_NAME_PREFIX}</code>を入力する。</p>\n<p><code class=\"language-text\">TARGETS &gt; [ PROJECT_NAME ] &gt; Info</code>の<code class=\"language-text\">Custome iOS Target Properties</code>で「Bundle display name」の値を<code class=\"language-text\">${PRODUCT_NAME}</code>と設定する。\n<em>※ 「Bundle display name」がない場合は追加してください</em></p>\n<h3>バンドルID</h3>\n<p>バンドルIDをサフィックスをつけて区別する。</p>\n<p>アプリ名同様、<code class=\"language-text\">BUNDLE_ID_SUFFIX</code>という名前で作成し、環境毎で区別できるように値を設定する。</p>\n<p><code class=\"language-text\">Packaging</code>の<code class=\"language-text\">Product Bundle Identifier</code>で値の末尾に<code class=\"language-text\">${BUNDLE_ID_SUFFIX}</code>を入力する。</p>\n<h3>Android</h3>\n<p>build.gradleに以下を追記</p>\n<div class=\"gatsby-code-title\">android/app/build.gradle</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">apply <span class=\"token keyword\">from</span><span class=\"token operator\">:</span> <span class=\"token function\">project</span><span class=\"token punctuation\">(</span><span class=\"token string\">':react-native-config'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>projectDir<span class=\"token punctuation\">.</span><span class=\"token function\">getPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"/dotenv.gradle\"</span></code></pre></div>\n<h2>環境毎に切り替え</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ ENVFILE=.env.dev npx react-native run-ios\n$ ENVFILE=.env.dev npx react-native run-android</code></pre></div>\n<p>build.gradleに以下を追記</p>\n<div class=\"gatsby-code-title\">android/app/build.gradle</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">project<span class=\"token punctuation\">.</span>ext<span class=\"token punctuation\">.</span>envConfigFiles <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  debug<span class=\"token operator\">:</span> <span class=\"token string\">\".env.dev\"</span><span class=\"token punctuation\">,</span>\n  staging<span class=\"token operator\">:</span> <span class=\"token string\">\".env.stg\"</span><span class=\"token punctuation\">,</span>\n  release<span class=\"token operator\">:</span> <span class=\"token string\">\".env\"</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npx react-native run-android --variant=staging</code></pre></div>\n<h1>[iOS]実機ビルド</h1>\n<h2>Xcodeの起動</h2>\n<p><code class=\"language-text\">ios/${ PROJECT_NAME }.xcworkspace</code>でXcodeを起動させる。</p>\n<h2>Team設定</h2>\n<p><code class=\"language-text\">TARGETS &gt; [ PROJECT_NAME ] &gt; Signing&amp;Capabilities &gt; Signing &gt; Team</code></p>\n<p>自分のアカウント名に変更</p>\n<h2>Nodeのバイナリのパスを変更</h2>\n<h3>パスの確認</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ which node</code></pre></div>\n<p><code class=\"language-text\">TARGETS &gt; [ PROJECT_NAME ] &gt; Build Phases &gt; Bundel React Native code and image</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export NODE_BINARY=node</code></pre></div>\n<p><code class=\"language-text\">node</code>部分を確認したパスに変更する。</p>\n<h2>ビルド</h2>\n<p>Deviceを自分の端末に選択して実行</p>\n<h2>プロファイルとデバイス管理</h2>\n<p><code class=\"language-text\">設定 &gt; 一般 &gt; プロファイルとデバイス管理</code></p>\n<h1>[Android]実機ビルド</h1>\n<p><em><a href=\"https://reactnative.dev/docs/running-on-device\" target=\"_blank\" rel=\"noopener noreferrer\">※ 公式ドキュメント通り</a></em></p>\n<h2>USB経由のデバッグを有効にする</h2>\n<p>端末の開発者向けオプションから「USBデバッグ」を有効にしてください。</p>\n<h2>USB経由でデバイスを接続</h2>\n<p>デバイスの疎通確認</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ adb devices\nList of devices attached\nemulator-5554 offline   # Google emulator\n14ed2fcc device         # Physical device</code></pre></div>\n<h2>ビルド</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ npx react-native run-android</code></pre></div>\n<!-- 一旦なしでいいかな -->\n<!--\n## ビルドバリアントの設定\n\n### ビルドバリアント（Build Variant）とは\n\n2つの要素の組み合わせから構成される。\n\n- ビルドタイプ（BuildType）\n- プロダクトフレーバー（Product Flavor）\n\n||debug|release|\n|---|---|---|\n|dev||devDebug|devRelease|\n|prod|prodDebug|prodRelease|\n-->","fields":{"slug":"/post/1"},"frontmatter":{"title":"【解説】第1回 React Native -環境を整えよう-","date":"2020/10/29","tags":["React Native"]}}},"pageContext":{"prev":null,"next":{"html":"<h1>React Native 勉強会 第2回 -View-</h1>\n<h2>主要のコンポーネント・API</h2>\n<h3>StyleSheet</h3>\n<p><a href=\"https://reactnative.dev/docs/style\" target=\"_blank\" rel=\"noopener noreferrer\">Style定義</a></p>\n<h3>View</h3>\n<p><a href=\"https://reactnative.dev/docs/view\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a><br>\n<a href=\"https://reactnative.dev/docs/flexbox\" target=\"_blank\" rel=\"noopener noreferrer\">Flexboxレイアウト</a></p>\n<h3>Text</h3>\n<p><a href=\"https://reactnative.dev/docs/text\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a></p>\n<h3>Image</h3>\n<p><a href=\"https://reactnative.dev/docs/image\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a><br>\n<a href=\"https://reactnative.dev/docs/images\" target=\"_blank\" rel=\"noopener noreferrer\">画像データ周り</a></p>\n<h3>TextInput</h3>\n<p><a href=\"https://reactnative.dev/docs/textinput\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a></p>\n<h3>ScrollView</h3>\n<p><a href=\"https://reactnative.dev/docs/scrollview\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a></p>\n<h2>その他</h2>\n<h3>FlatList</h3>\n<p>リストデータ用のコンポーネント<br>\n画面で表示される部分のみレンダリングするので、多量のリストデータを表示するときに向いている<br>\n<a href=\"https://reactnative.dev/docs/flatlist\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a>  </p>\n<h3>KeyboardAvoidingView</h3>\n<p>テキストフォームにフォーカスしたとき、フォームがキーボードで隠れてしまわないように調整してくれるコンポーネント<br>\n<a href=\"https://reactnative.dev/docs/keyboardavoidingview\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a>  </p>\n<h3>Linking</h3>\n<p><a href=\"https://reactnative.dev/docs/linking\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a>  </p>\n<h3>StatusBar</h3>\n<p>画面上部のステータスバーの制御<br>\n<a href=\"https://reactnative.dev/docs/statusbar\" target=\"_blank\" rel=\"noopener noreferrer\">ドキュメント</a></p>","fields":{"slug":"/post/2"},"frontmatter":{"date":"2020-10-29","title":"第2回 React Native -View-","tags":["React Native"],"active":0}}}},"staticQueryHashes":["63159454"]}